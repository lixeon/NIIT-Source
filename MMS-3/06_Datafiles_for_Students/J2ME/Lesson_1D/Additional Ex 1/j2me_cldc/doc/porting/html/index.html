<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.2.1206" />
    <meta name="TEMPLATEBASE" content="book-no-index" />
    <meta name="LASTUPDATED" content="10/21/02 16:36:33" />
    <title>Contents</title>
    <link rel="StyleSheet" href="document.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
    <link rel="Table of Contents" href="index.html" />
    <link rel="Previous" href="" />
    <link rel="Next" href="portingCopyright.html" />
    <link rel="Index" href="portingJavaDebugger.html" />
  </head>

  <body>

    <table id="SummaryNotReq1" width="100%">
      <tr><td class="sun-darkblue">&#160;</td></tr>
      <tr><td class="sun-lightblue">&#160;</td></tr>
      <tr><td class="go-right">
        <a accesskey="c" href="index.html">
          <img id="LongDescNotReq1" src="images/toc.gif" border="0"
            alt="Contents" /></a>
	<a accesskey="p" href="">
	  <img id="LongDescNotReq2" src="images/prev.gif" border="0"
            alt="Previous" /></a>
        <a accesskey="n" href="portingCopyright.html">
	  <img id="LongDescNotReq3" src="images/next.gif" border="0"
            alt="Next" /></a>
       </td>
      </tr>
    </table>

<a name="wp997247"> </a><h2 class="pNewHTMLPage">
Contents
</h2>
<hr class="pHr"/>
<a name="wp1002455"> </a><p class="pTOC2">
<a href="portingIntro.html#wp431762"> 1. About This Document</a>
</p>
<a name="wp1002457"> </a><p class="pTOC3">
<a href="portingIntro.html#wp431843">1.1 Who Should Use This Document </a>
</p>
<a name="wp1002459"> </a><p class="pTOC3">
<a href="portingIntro.html#wp431869">1.2 Related Documentation </a>
</p>
<a name="wp1002461"> </a><p class="pTOC2">
<a href="portingKVMIntro.html#wp431762"> 2. Introduction to KVM</a>
</p>
<a name="wp1002463"> </a><p class="pTOC3">
<a href="portingKVMIntro.html#wp431794">2.1 K Virtual Machine (KVM) </a>
</p>
<a name="wp1002465"> </a><p class="pTOC3">
<a href="portingKVMIntro.html#wp423347">2.2 Differences between KVM 1.0.4 and KVM 1.0.3 </a>
</p>
<a name="wp1002467"> </a><p class="pTOC2">
<a href="portingCompiler.html#wp431763"> 3. Compiler Requirements</a>
</p>
<a name="wp1002469"> </a><p class="pTOC2">
<a href="portingDirStruct.html#wp431769"> 4. Directory Structure</a>
</p>
<a name="wp1002471"> </a><p class="pTOC3">
<a href="portingDirStruct.html#wp434020">4.1 Overview </a>
</p>
<a name="wp1002473"> </a><p class="pTOC3">
<a href="portingDirStruct.html#wp432235">4.2 Directory kvm/VmCommon </a>
</p>
<a name="wp1002475"> </a><p class="pTOC3">
<a href="portingDirStruct.html#wp433822">4.3 Directory kvm/VmExtra </a>
</p>
<a name="wp1002477"> </a><p class="pTOC2">
<a href="portingFlags.html#wp431761"> 5. Compilation Flags, Definitions and Macros</a>
</p>
<a name="wp1002479"> </a><p class="pTOC3">
<a href="portingFlags.html#wp432228">5.1 General compilation options </a>
</p>
<a name="wp1002481"> </a><p class="pTOC3">
<a href="portingFlags.html#wp434697">5.2 General system configuration options </a>
</p>
<a name="wp1002483"> </a><p class="pTOC3">
<a href="portingFlags.html#wp432422">5.3 Palm-specific system configuration options </a>
</p>
<a name="wp1002485"> </a><p class="pTOC3">
<a href="portingFlags.html#wp432247">5.4 Memory allocation settings </a>
</p>
<a name="wp1002487"> </a><p class="pTOC3">
<a href="portingFlags.html#wp432514">5.5 Garbage collection options </a>
</p>
<a name="wp1002489"> </a><p class="pTOC3">
<a href="portingFlags.html#wp434016">5.6 Class loading options </a>
</p>
<a name="wp1002491"> </a><p class="pTOC3">
<a href="portingFlags.html#wp431941">5.7 Interpreter execution options (since KVM 1.0) </a>
</p>
<a name="wp1002493"> </a><p class="pTOC3">
<a href="portingFlags.html#wp432957">5.8 Interpreter execution options (since KVM 1.0.2) </a>
</p>
<a name="wp1002495"> </a><p class="pTOC4">
<a href="portingFlags.html#wp433099">5.8.1 Copying the virtual machine registers to local variables </a>
</p>
<a name="wp1002497"> </a><p class="pTOC4">
<a href="portingFlags.html#wp433225">5.8.2 Splitting uncommon bytecodes into a separate subroutine </a>
</p>
<a name="wp1002499"> </a><p class="pTOC4">
<a href="portingFlags.html#wp433054">5.8.3 Moving the test for thread rescheduling to branchpoints </a>
</p>
<a name="wp1002501"> </a><p class="pTOC4">
<a href="portingFlags.html#wp433058">5.8.4 Padding out the bytecode space </a>
</p>
<a name="wp1002503"> </a><p class="pTOC3">
<a href="portingFlags.html#wp432965">5.9 Java-level debugging options </a>
</p>
<a name="wp1002505"> </a><p class="pTOC3">
<a href="portingFlags.html#wp421026">5.10 VM-level debugging and tracing options </a>
</p>
<a name="wp1002507"> </a><p class="pTOC4">
<a href="portingFlags.html#wp432652">5.10.1 Including and excluding debugging code </a>
</p>
<a name="wp1002509"> </a><p class="pTOC4">
<a href="portingFlags.html#wp432657">5.10.2 Tracing options </a>
</p>
<a name="wp1002511"> </a><p class="pTOC3">
<a href="portingFlags.html#wp432857">5.11 Error handling macros </a>
</p>
<a name="wp1002513"> </a><p class="pTOC3">
<a href="portingFlags.html#wp432772">5.12 Miscellaneous macros and options </a>
</p>
<a name="wp1002515"> </a><p class="pTOC3">
<a href="portingFlags.html#wp434006">5.13 Overriding the compilation flags and other options from makefiles </a>
</p>
<a name="wp1002517"> </a><p class="pTOC2">
<a href="portingRequired.html#wp431769"> 6. Required Port-Specific Files and Functions</a>
</p>
<a name="wp1002519"> </a><p class="pTOC3">
<a href="portingRequired.html#wp423895">6.1 File machine_md.h </a>
</p>
<a name="wp1002521"> </a><p class="pTOC3">
<a href="portingRequired.html#wp432245">6.2 File main.c </a>
</p>
<a name="wp1002523"> </a><p class="pTOC3">
<a href="portingRequired.html#wp419578">6.3 Runtime functions that require porting efforts </a>
</p>
<a name="wp1002525"> </a><p class="pTOC3">
<a href="portingRequired.html#wp427856">6.4 Required C library functions </a>
</p>
<a name="wp1002527"> </a><p class="pTOC2">
<a href="portingStartup.html#wp431761"> 7. Virtual Machine Startup</a>
</p>
<a name="wp1002529"> </a><p class="pTOC3">
<a href="portingStartup.html#wp432222">7.1 Command line startup </a>
</p>
<a name="wp1002531"> </a><p class="pTOC3">
<a href="portingStartup.html#wp432227">7.2 Alternative VM startup strategies </a>
</p>
<a name="wp1002533"> </a><p class="pTOC3">
<a href="portingStartup.html#wp432241">7.3 Using a JAM (Java Application Manager) </a>
</p>
<a name="wp1002535"> </a><p class="pTOC2">
<a href="portingClassLoad.html#wp431763"> 8. Class Loading, JAR Files, and Inflation</a>
</p>
<a name="wp1002537"> </a><p class="pTOC3">
<a href="portingClassLoad.html#wp432303">8.1 Generic class file loading </a>
</p>
<a name="wp1002539"> </a><p class="pTOC3">
<a href="portingClassLoad.html#wp432023">8.2 JAR file reader </a>
</p>
<a name="wp1002541"> </a><p class="pTOC4">
<a href="portingClassLoad.html#wp433160">8.2.1 Opening a JAR file </a>
</p>
<a name="wp1002543"> </a><p class="pTOC4">
<a href="portingClassLoad.html#wp433081">8.2.2 Closing a JAR file </a>
</p>
<a name="wp1002545"> </a><p class="pTOC4">
<a href="portingClassLoad.html#wp433162">8.2.3 Reading a JAR file entry </a>
</p>
<a name="wp1002547"> </a><p class="pTOC4">
<a href="portingClassLoad.html#wp433163">8.2.4 Reading multiple JAR file directory </a>
</p>
<a name="wp1002549"> </a><p class="pTOC3">
<a href="portingClassLoad.html#wp433190">8.3 Inflation </a>
</p>
<a name="wp1002551"> </a><p class="pTOC2">
<a href="porting64bit.html#wp431766"> 9. 64-bit Support</a>
</p>
<a name="wp1002553"> </a><p class="pTOC3">
<a href="porting64bit.html#wp426762">9.1 Setup </a>
</p>
<a name="wp1002555"> </a><p class="pTOC3">
<a href="porting64bit.html#wp427615">9.2 Alignment issues </a>
</p>
<a name="wp1002557"> </a><p class="pTOC2">
<a href="portingNative.html#wp433196"> 10. Native Code</a>
</p>
<a name="wp1002559"> </a><p class="pTOC3">
<a href="portingNative.html#wp436382">10.1 Using the K Native Interface (KNI) </a>
</p>
<a name="wp1002561"> </a><p class="pTOC3">
<a href="portingNative.html#wp422794">10.2 Implementing old-style native methods </a>
</p>
<a name="wp1002563"> </a><p class="pTOC4">
<a href="portingNative.html#wp433311">10.2.1 Include files </a>
</p>
<a name="wp1002565"> </a><p class="pTOC4">
<a href="portingNative.html#wp433279">10.2.2 Accessing arguments from old-style native methods </a>
</p>
<a name="wp1002567"> </a><p class="pTOC4">
<a href="portingNative.html#wp433317">10.2.3 Returning a result from an old-style native function </a>
</p>
<a name="wp1002569"> </a><p class="pTOC4">
<a href="portingNative.html#wp434122">10.2.4 Shortcuts </a>
</p>
<a name="wp1002571"> </a><p class="pTOC4">
<a href="portingNative.html#wp435213">10.2.5 Callbacks </a>
</p>
<a name="wp1002573"> </a><p class="pTOC4">
<a href="portingNative.html#wp433332">10.2.6 Exception handling in old-style native code </a>
</p>
<a name="wp1002575"> </a><p class="pTOC4">
<a href="portingNative.html#wp433338">10.2.7 Useful functions in old-style native code </a>
</p>
<a name="wp1002577"> </a><p class="pTOC4">
<a href="portingNative.html#wp433347">10.2.8 Garbage collection issues </a>
</p>
<a name="wp1002579"> </a><p class="pTOC4">
<a href="portingNative.html#wp435579">10.2.9 Initialization and reinitialization of global variables </a>
</p>
<a name="wp1002581"> </a><p class="pTOC3">
<a href="portingNative.html#wp436508">10.3 Native code lookup tables </a>
</p>
<a name="wp1002583"> </a><p class="pTOC3">
<a href="portingNative.html#wp433595">10.4 Asynchronous native methods </a>
</p>
<a name="wp1002585"> </a><p class="pTOC4">
<a href="portingNative.html#wp433385">10.4.1 Design of asynchronous methods </a>
</p>
<a name="wp1002587"> </a><p class="pTOC4">
<a href="portingNative.html#wp432269">10.4.2 Implementation of asynchronous methods </a>
</p>
<a name="wp1002589"> </a><p class="pTOC2">
<a href="portingEvent.html#wp422645"> 11. Event Handling</a>
</p>
<a name="wp1002591"> </a><p class="pTOC3">
<a href="portingEvent.html#wp425317">11.1 High-level description </a>
</p>
<a name="wp1002593"> </a><p class="pTOC4">
<a href="portingEvent.html#wp432424">11.1.1 Synchronous notification (blocking) </a>
</p>
<a name="wp1002595"> </a><p class="pTOC4">
<a href="portingEvent.html#wp432426">11.1.2 Polling in Java code </a>
</p>
<a name="wp1002597"> </a><p class="pTOC4">
<a href="portingEvent.html#wp432428">11.1.3 Polling in the bytecode interpreter </a>
</p>
<a name="wp1002599"> </a><p class="pTOC4">
<a href="portingEvent.html#wp432430">11.1.4 Asynchronous notification </a>
</p>
<a name="wp1002601"> </a><p class="pTOC3">
<a href="portingEvent.html#wp432439">11.2 Parameter passing and garbage collection issues </a>
</p>
<a name="wp1002603"> </a><p class="pTOC3">
<a href="portingEvent.html#wp432413">11.3 Implementation in KVM </a>
</p>
<a name="wp1002605"> </a><p class="pTOC3">
<a href="portingEvent.html#wp432886">11.4 Battery power conservation </a>
</p>
<a name="wp1002607"> </a><p class="pTOC2">
<a href="portingVerifier.html#wp431766"> 12. Class File Verification</a>
</p>
<a name="wp1002609"> </a><p class="pTOC3">
<a href="portingVerifier.html#wp436373">12.1 Overview </a>
</p>
<a name="wp1002611"> </a><p class="pTOC3">
<a href="portingVerifier.html#wp436390">12.2 Using the preverifier </a>
</p>
<a name="wp1002613"> </a><p class="pTOC4">
<a href="portingVerifier.html#wp436265">12.2.1 General form </a>
</p>
<a name="wp1002615"> </a><p class="pTOC4">
<a href="portingVerifier.html#wp434338">12.2.2 Preverifier options </a>
</p>
<a name="wp1002617"> </a><p class="pTOC4">
<a href="portingVerifier.html#wp436733">12.2.3 Supported input file formats </a>
</p>
<a name="wp1002619"> </a><p class="pTOC4">
<a href="portingVerifier.html#wp436201">12.2.4 JAR support in preverifier (since KVM 1.0.2) </a>
</p>
<a name="wp1002621"> </a><p class="pTOC3">
<a href="portingVerifier.html#wp436214">12.3 Porting the verifier </a>
</p>
<a name="wp1002623"> </a><p class="pTOC4">
<a href="portingVerifier.html#wp434339">12.3.1 Compiling the preverifier </a>
</p>
<a name="wp1002625"> </a><p class="pTOC2">
<a href="portingJCC.html#wp431766"> 13. JavaCodeCompact (JCC)</a>
</p>
<a name="wp1002627"> </a><p class="pTOC3">
<a href="portingJCC.html#wp434338">13.1 JavaCodeCompact options </a>
</p>
<a name="wp1002629"> </a><p class="pTOC3">
<a href="portingJCC.html#wp435486">13.2 Porting JavaCodeCompact </a>
</p>
<a name="wp1002631"> </a><p class="pTOC3">
<a href="portingJCC.html#wp434339">13.3 Compiling JavaCodeCompact </a>
</p>
<a name="wp1002633"> </a><p class="pTOC3">
<a href="portingJCC.html#wp434396">13.4 JavaCodeCompact files </a>
</p>
<a name="wp1002635"> </a><p class="pTOC3">
<a href="portingJCC.html#wp435793">13.5 Executing JavaCodeCompact </a>
</p>
<a name="wp1002637"> </a><p class="pTOC3">
<a href="portingJCC.html#wp427641">13.6 Limitations </a>
</p>
<a name="wp1002639"> </a><p class="pTOC2">
<a href="portingJAM.html#wp431766"> 14. Java Application Manager (JAM)</a>
</p>
<a name="wp1002641"> </a><p class="pTOC3">
<a href="portingJAM.html#wp436129">14.1 Using the JAM to install applications </a>
</p>
<a name="wp1002643"> </a><p class="pTOC4">
<a href="portingJAM.html#wp436180">14.1.1 Application launching </a>
</p>
<a name="wp1002645"> </a><p class="pTOC4">
<a href="portingJAM.html#wp436188">14.1.2 Application updating </a>
</p>
<a name="wp1002647"> </a><p class="pTOC3">
<a href="portingJAM.html#wp436209">14.2 JAM components </a>
</p>
<a name="wp1002649"> </a><p class="pTOC4">
<a href="portingJAM.html#wp436211">14.2.1 Security requirements </a>
</p>
<a name="wp1002651"> </a><p class="pTOC4">
<a href="portingJAM.html#wp436215">14.2.2 JAR file </a>
</p>
<a name="wp1002653"> </a><p class="pTOC4">
<a href="portingJAM.html#wp436219">14.2.3 Application Descriptor File </a>
</p>
<a name="wp1002655"> </a><p class="pTOC4">
<a href="portingJAM.html#wp436247">14.2.4 Network communication </a>
</p>
<a name="wp1002657"> </a><p class="pTOC3">
<a href="portingJAM.html#wp436254">14.3 Application lifecycle management </a>
</p>
<a name="wp1002659"> </a><p class="pTOC4">
<a href="portingJAM.html#wp436270">14.3.1 Termination of the KVM Task </a>
</p>
<a name="wp1002661"> </a><p class="pTOC3">
<a href="portingJAM.html#wp436277">14.4 Error handling </a>
</p>
<a name="wp1002663"> </a><p class="pTOC4">
<a href="portingJAM.html#wp436281">14.4.1 Error conditions </a>
</p>
<a name="wp1002665"> </a><p class="pTOC2">
<a href="portingJavaDebugger.html#wp431766"> 15. Java-Level Debugging Support (KDWP)</a>
</p>
<a name="wp1002667"> </a><p class="pTOC3">
<a href="portingJavaDebugger.html#wp436204">15.1 Overall architecture </a>
</p>
<a name="wp1002669"> </a><p class="pTOC3">
<a href="portingJavaDebugger.html#wp436215">15.2 Debug Agent </a>
</p>
<a name="wp1002671"> </a><p class="pTOC4">
<a href="portingJavaDebugger.html#wp436218">15.2.1 Connections between a debugger and the KVM </a>
</p>
<a name="wp1002673"> </a><p class="pTOC4">
<a href="portingJavaDebugger.html#wp436242">15.2.2 Packet processing </a>
</p>
<a name="wp1002675"> </a><p class="pTOC3">
<a href="portingJavaDebugger.html#wp436250">15.3 Debugger support within KVM </a>
</p>
<a name="wp1002677"> </a><p class="pTOC4">
<a href="portingJavaDebugger.html#wp436254">15.3.1 Events </a>
</p>
<a name="wp1002679"> </a><p class="pTOC4">
<a href="portingJavaDebugger.html#wp436273">15.3.2 Breakpoints </a>
</p>
<a name="wp1002681"> </a><p class="pTOC4">
<a href="portingJavaDebugger.html#wp436290">15.3.3 Single stepping </a>
</p>
<a name="wp1002683"> </a><p class="pTOC4">
<a href="portingJavaDebugger.html#wp437762">15.3.4 Suspend and nosuspend options </a>
</p>
<a name="wp1002685"> </a><p class="pTOC3">
<a href="portingJavaDebugger.html#wp437524">15.4 Using the Debug Agent and the JPDA Debugger </a>
</p>
<a name="wp1002687"> </a><p class="pTOC4">
<a href="portingJavaDebugger.html#wp437527">15.4.1 Starting a debug session </a>
</p>
<a name="wp1002689"> </a><p class="pTOC4">
<a href="portingJavaDebugger.html#wp437653">15.4.2 Debugging example </a>
</p>

    <p>&#160;</p>
    <hr class="pHr" />

    <table id="SummaryNotReq2" width="100%">
      <tr>
        <td class="go-left">
          <a accesskey="c" href="index.html">
	    <img id="LongDescNotReq1" src="images/toc.gif" border="0"
              alt="Contents" /></a>
	  <a accesskey="p" href="">
	    <img id="LongDescNotReq2" src="images/prev.gif" border="0"
              alt="Previous" /></a>
	  <a accesskey="n" href="portingCopyright.html">
	    <img id="LongDescNotReq3" src="images/next.gif" border="0"
              alt="Next" /></a>
        </td>
        <td class="go-right">
          <span class="copyright">KVM Porting Guide <br /> CLDC, 1.0.4</span>
        </td>
      </tr>
    </table>

    <p>&#160;</p>
    <p class="copyright"><a 
       href="copyright.html">Copyright</a> &#169;
       2002 Sun Microsystems, Inc. All rights reserved.</p>
  </body>
</html>
